{"version":3,"sources":["index.js"],"names":["DISPLAY_WIDTH","DISPLAY_HEIGHT","canvas","document","getElementById","app","Elm","Main","init","ports","render","subscribe","pixels","ctx","getContext","imageData","getImageData","x","y","index","data","putImageData"],"mappings":";;;AAOA,aAPA,IAAA,EAAA,QAAA,kBAEMA,EAAgB,IAChBC,EAAiB,IAEjBC,EAASC,SAASC,eAAe,UACjCC,EAAMC,EAAIC,IAAAA,KAAKC,OACrBH,EAAII,MAAMC,OAAOC,UAAU,SAACC,GAGrB,IAFCC,IAAAA,EAAMX,EAAOY,WAAW,MACxBC,EAAYF,EAAIG,aAAa,EAAG,EAAGhB,EAAeC,GAC/CgB,EAAI,EAAGA,EAAIjB,IAAiBiB,EAC9B,IAAA,IAAIC,EAAI,EAAGA,EAAIjB,IAAkBiB,EAAG,CACjCC,IAAAA,EAAkC,GAAzBF,EAAIC,EAAIlB,GACvBe,EAAUK,KAAKD,IAAyB,SAAfP,EAAOK,GAAGC,KAAkB,GACrDH,EAAUK,KAAKD,EAAQ,IAAqB,MAAfP,EAAOK,GAAGC,KAAkB,EACzDH,EAAUK,KAAKD,EAAQ,GAAoB,IAAfP,EAAOK,GAAGC,GACtCH,EAAUK,KAAKD,EAAQ,GAAK,IAIhCN,EAAIQ,aAAaN,EAAW,EAAG","file":"raycasting.3126fc8f.js","sourceRoot":"..","sourcesContent":["import { Elm } from \"./src/Main.elm\";\n\nconst DISPLAY_WIDTH = 256;\nconst DISPLAY_HEIGHT = 144;\n\nconst canvas = document.getElementById(\"canvas\");\nconst app = Elm.Main.init();\napp.ports.render.subscribe((pixels) => {\n  const ctx = canvas.getContext(\"2d\");\n  const imageData = ctx.getImageData(0, 0, DISPLAY_WIDTH, DISPLAY_HEIGHT);\n  for (let x = 0; x < DISPLAY_WIDTH; ++x) {\n    for (let y = 0; y < DISPLAY_HEIGHT; ++y) {\n      const index = (x + y * DISPLAY_WIDTH) * 4;\n      imageData.data[index] = (pixels[x][y] & 0xff0000) >> 16;\n      imageData.data[index + 1] = (pixels[x][y] & 0x00ff00) >> 8;\n      imageData.data[index + 2] = pixels[x][y] & 0x0000ff;\n      imageData.data[index + 3] = 255;\n    }\n  }\n\n  ctx.putImageData(imageData, 0, 0);\n});\n"]}